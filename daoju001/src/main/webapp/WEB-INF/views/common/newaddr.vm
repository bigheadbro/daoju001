<div id="pagemask-newaddr"></div>
<link rel="stylesheet" href="../css/address.css">
<script type="text/javascript" src="../js/pcasunzip.js"></script>
<script type="text/javascript">
	function processNewaddress(data) { 
		showAlert(data.title,data.content,data.info,data.btn,data.link);
	}
	$(document).ready(function(){
    	$(".close-newaddr").click(function(){
    		hidenewaddr();
    	});
		$("#submit_addr").click(function(){
			
      	});
		$("#form_addr").validate({
			rules:{
				pca:{
					required:true
				},
				zip:{
					required:true
				},
				detail:{
					required:true
				},
				username:{
					required:true
				},
				phone:{
					required:true
				}
			},
			messages:{
				pca:{
					required:"请选择地区"
				},
				zip:{
					required:"请输入邮编"
				},
				detail:{
					required:"请输入详细地址"  
				},
				username:{
					required:"请输入收件人名字"  
				},
				phone:{
					required:"请输入联系电话"  
				}
			},
			errorElement:"em",
			submitHandler: function(form) {
                hidenewaddr();
          		$("#form_addr").ajaxSubmit({success: processNewaddress});
    			$("#form_addr")[0].reset();
            }
		});
	});
</script>
<div class="newaddr-win">
    <div class="newaddr-win-content">
        <h2>
            <a class="close-newaddr">x</a>
			添加新地址
		</h2>
        <div class="content clearfix">
			<form id="form_addr" method="post" action="/addaddr">
			<ul class="part1">
				<li class="clearfix">
					<em class="key">选择所在地：</em>
					#springBind("form.pca")
					<input class="address dsf-form-text-input" name="${status.expression}" readonly="readonly" type="text" /> 
				</li>
				<li class="clearfix">
					<em class="key">邮政编码：</em>
					#springBind("form.zip")
					<input class="dsf-form-text-input" name="${status.expression}" type="text" /> 
				</li>
				<li class="clearfix">
					<em class="key">街道地址：</em>
					#springBind("form.detail")
					<textarea class="dsf-form-text-input ct-info" name="${status.expression}"></textarea>
				</li>
			</ul>
			<ul class="part2">
				<li class="clearfix">
					<em class="key">收件人姓名：</em>
					#springBind("form.username")
					<input class="dsf-form-text-input" name="${status.expression}" type="text" /> 
				</li>
				<li class="clearfix">
					<em class="key">联系电话：</em>
					#springBind("form.phone")
					<input class="dsf-form-text-input" name="${status.expression}" type="text" /> 
				</li>
				<li class="clearfix">
					<em class="key">设置默认：</em>
					<span class="default"><input type="checkbox" name="isdefault" id="isdefault" /><label for="isdefault">设置为默认地址 </label> <p class="note">设置后系统将在购买时自动选中该收货地址</p> </span>
				</li>
				<li>
					<em class="key">&nbsp;</em><a id="submit_addr">确认</a><a id="close" class="close-newaddr">取消</a>
				</li>
			</ul>
			</form>
        </div>
    </div>
</div>